var __awaiter=this&&this.__awaiter||function(t,e,r,i){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,n){function s(t){try{l(i.next(t))}catch(e){n(e)}}function a(t){try{l(i["throw"](t))}catch(e){n(e)}}function l(t){t.done?r(t.value):o(t.value).then(s,a)}l((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,o,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return l([t,e])}}function l(s){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,o&&(n=s[0]&2?o["return"]:s[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;if(o=0,n)s=[s[0]&2,n.value];switch(s[0]){case 0:case 1:n=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;o=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(n=r.trys,n=n.length>0&&n[n.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(s[0]===6&&r.label<n[1]){r.label=n[1];n=s;break}if(n&&r.label<n[2]){r.label=n[2];r.ops.push(s);break}if(n[2])r.ops.pop();r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a];o=0}finally{i=n=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,n;i<o;i++){if(n||!(i in e)){if(!n)n=Array.prototype.slice.call(e,0,i);n[i]=e[i]}}return t.concat(n||Array.prototype.slice.call(e))};import{r as registerInstance,h,i as getElement}from"./index-d55b618c.js";import{h as hasSlot}from"./index-6b6fa50e.js";import{T as TranslationController}from"./Translation-e3b101d4.js";var formControlCss=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.error{color:#d72d30;font-weight:400;font-size:12px;line-height:20px;-webkit-padding-before:4px;padding-block-start:4px;-webkit-padding-start:2px;padding-inline-start:2px}label{font-size:12px;color:#475867;font-weight:600;-webkit-margin-after:4px;margin-block-end:4px;-webkit-padding-start:2px;padding-inline-start:2px;display:block}label.required::after{content:"*";position:relative;display:inline-block;inset-block-start:2px;font-size:14px;color:#d72d30;-webkit-padding-start:2px;padding-inline-start:2px;font-weight:700}.hint{font-weight:400;font-size:12px;color:#475867;line-height:20px;-webkit-padding-before:4px;padding-block-start:4px;-webkit-padding-start:2px;padding-inline-start:2px}.form-control-container{margin-inline:0em;margin-block:1em}';var NATIVE_CONTROLS=["input","select","textarea"];var FormControl=function(){function t(t){registerInstance(this,t);this.type="TEXT";this.required=false;this.hint="";this.placeholder="";this.choices=[];this.fieldProps={};this.touched=false;this.error="";this.hasSlot=false}t.prototype.renderControl=function(){var t,e,r,i,o,n,s,a;var l=this;var c,d,u,p,f,b,v,m,g,y,x,O,C,w,j,k,P,T,S,_;if(this.hasSlot)return null;if(!this.name)return null;var L;switch(this.type){case"TEXT":case"NUMBER":case"DECIMAL":case"EMAIL":case"TEL":case"URL":{var E=this.type==="DECIMAL"?"number":(c=this.type)===null||c===void 0?void 0:c.toLowerCase();var q=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,type:E}),(d=this.controlProps)===null||d===void 0?void 0:d.inputProps(this.name,E)),(t={state:this.touched&&this.error&&"error"||"normal"},t["hint-text"]=this.hint,t["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),t));L=h("fw-input",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}));break}case"PARAGRAPH":{var q=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),(u=this.controlProps)===null||u===void 0?void 0:u.inputProps(this.name,(p=this.type)===null||p===void 0?void 0:p.toLowerCase())),(e={state:this.touched&&this.error&&"error"||"normal"},e["hint-text"]=this.hint,e["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),e));L=h("fw-textarea",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}))}break;case"DATE":{var q=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),(f=this.controlProps)===null||f===void 0?void 0:f.inputProps(this.name,(b=this.type)===null||b===void 0?void 0:b.toLowerCase())),(r={state:this.touched&&this.error&&"error"||"normal"},r["hint-text"]=this.hint,r["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),r));L=h("fw-datepicker",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}))}break;case"CHECKBOX":{var q=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:"",required:this.required}),(v=this.controlProps)===null||v===void 0?void 0:v.checkboxProps(this.name,(m=this.type)===null||m===void 0?void 0:m.toLowerCase())),(i={state:this.touched&&this.error&&"error"||"normal"},i["hint-text"]=this.hint,i["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),i));L=h("fw-checkbox",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}),this.label)}break;case"RADIO":{var R=(g=this.controlProps)===null||g===void 0?void 0:g.radioProps(this.name,(y=this.type)===null||y===void 0?void 0:y.toLowerCase());var A=Object.assign(Object.assign(Object.assign({},this.fieldProps),(o={name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,"allow-empty":true,state:this.touched&&this.error&&"error"||"normal"},o["hint-text"]=this.hint,o["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),o)),R);L=h("fw-radio-group",Object.assign({},A,{ref:function(t){return l.crayonsControlRef=t}}),(x=this.choices)===null||x===void 0?void 0:x.map((function(t){var e=t[A.optionValuePath]||t.value;var r=t[A.optionLabelPath]||t.value;return h("fw-radio",{name:l.name,value:e,state:l.touched&&l.error?"error":"normal"},r)})))}break;case"DROPDOWN":case"MULTI_SELECT":{var R=(O=this.controlProps)===null||O===void 0?void 0:O.selectProps(this.name,(C=this.type)===null||C===void 0?void 0:C.toLowerCase());var q=Object.assign(Object.assign({},this.fieldProps),(n={name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,multiple:this.type==="MULTI_SELECT",state:this.touched&&this.error&&"error"||"normal"},n["hint-text"]=this.hint,n["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),n));q=Object.assign(Object.assign(Object.assign({},q),R),{options:this.choices});L=h("fw-select",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}))}break;case"RELATIONSHIP":{var R=(w=this.controlProps)===null||w===void 0?void 0:w.selectProps(this.name,(j=this.type)===null||j===void 0?void 0:j.toLowerCase());var q=Object.assign(Object.assign({},this.fieldProps),(s={name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,state:this.touched&&this.error&&"error"||"normal"},s["hint-text"]=this.hint,s["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),s));if(Array.isArray(R.value)&&typeof R.value[0]==="object"){q.selectedOptions=R.value}if(((k=q.selectedOptions)===null||k===void 0?void 0:k.length)>0){(P=this.crayonsControlRef)===null||P===void 0?void 0:P.setSelectedOptions(q.selectedOptions)}else if(!R.value){(T=this.crayonsControlRef)===null||T===void 0?void 0:T.setSelectedOptions([])}q.noDataText=TranslationController.t("search.startTyping");L=h("fw-select",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}))}break;case"TIME":{var q=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),(S=this.controlProps)===null||S===void 0?void 0:S.inputProps(this.name,(_=this.type)===null||_===void 0?void 0:_.toLowerCase())),(a={state:this.touched&&this.error&&"error"||"normal"},a["hint-text"]=this.hint,a["error-text"]=TranslationController.t(this.error,{field:this.label||this.name}),a));L=h("fw-timepicker",Object.assign({},q,{ref:function(t){return l.crayonsControlRef=t}}))}break}return L};t.prototype.componentWillLoad=function(){this.handleSlotChange()};t.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,i;return __generator(this,(function(o){switch(o.label){case 0:if(!!this.hasSlot)return[3,2];return[4,(e=(t=this.crayonsControlRef)===null||t===void 0?void 0:t.setFocus)===null||e===void 0?void 0:e.call(t)];case 1:o.sent();return[3,3];case 2:(i=(r=this.slotElement)===null||r===void 0?void 0:r.focus)===null||i===void 0?void 0:i.call(r);o.label=3;case 3:return[2]}}))}))};t.prototype.handleSlotChange=function(){var t;this.hasSlot=hasSlot(this.el);this.slotElement=(t=__spreadArray([],this.el.querySelectorAll("*"),true).filter((function(t){var e;return NATIVE_CONTROLS.includes((e=t===null||t===void 0?void 0:t.tagName)===null||e===void 0?void 0:e.toLowerCase())})))===null||t===void 0?void 0:t[0]};t.prototype.render=function(){var t=this;return h("div",{class:"form-control-container"},this.renderControl(),this.hasSlot&&h("label",{htmlFor:this.name,class:{label:true,required:this.required}},this.label),h("slot",{onSlotchange:function(){return t.handleSlotChange()}}),this.hasSlot&&!(this.touched&&this.error)&&h("div",{class:"hint",id:"hint-".concat(this.name)},this.hint),this.hasSlot&&this.touched&&this.error&&h("div",{class:"error",id:"error-".concat(this.name)},TranslationController.t(this.error,{field:this.label||this.name})))};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});return t}();FormControl.style=formControlCss;export{FormControl as fw_form_control};